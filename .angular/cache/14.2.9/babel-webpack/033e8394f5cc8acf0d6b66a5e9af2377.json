{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/authentication.service\";\nimport * as i2 from \"../../services/club.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/divider\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/expansion\";\nimport * as i8 from \"../club-member/club-member.component\";\nimport * as i9 from \"../club-assessment/club-assessment.component\";\nimport * as i10 from \"../club-measure/club-measure.component\";\nimport * as i11 from \"../club-start-page/club-start-page.component\";\nimport * as i12 from \"../club-questionnaire/club-questionnaire.component\";\n\nfunction ClubsComponent_div_5_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClubsComponent_div_5_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const club_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.changeContent(\"questionnaire\", club_r6));\n    });\n    i0.ɵɵtext(1, \"Fragebogen\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ClubsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"mat-accordion\")(2, \"mat-expansion-panel\")(3, \"mat-expansion-panel-header\")(4, \"mat-panel-title\")(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(7, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClubsComponent_div_5_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const club_r6 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.changeContent(\"start\", club_r6));\n    });\n    i0.ɵɵtext(8, \"Startseite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClubsComponent_div_5_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const club_r6 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.changeContent(\"clubSelfEstimation\", club_r6));\n    });\n    i0.ɵɵtext(10, \"Selbsteinsch\\u00E4tzung\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClubsComponent_div_5_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const club_r6 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.changeContent(\"member\", club_r6));\n    });\n    i0.ɵɵtext(12, \"Mitglieder\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ClubsComponent_div_5_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const club_r6 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.changeContent(\"measures\", club_r6));\n    });\n    i0.ɵɵtext(14, \"Ma\\u00DFnahmen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, ClubsComponent_div_5_button_15_Template, 2, 0, \"button\", 12);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const club_r6 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(club_r6.name);\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.checkAuthorization(club_r6));\n  }\n}\n\nfunction ClubsComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"app-club-start-page\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"club\", ctx_r1.selectedClub);\n  }\n}\n\nfunction ClubsComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"app-club-assessment\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"club\", ctx_r2.selectedClub);\n  }\n}\n\nfunction ClubsComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"app-club-measure\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"club\", ctx_r3.selectedClub);\n  }\n}\n\nfunction ClubsComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"app-club-member\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"club\", ctx_r4.selectedClub);\n  }\n}\n\nfunction ClubsComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"app-club-questionnaire\", 14);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"club\", ctx_r5.selectedClub);\n  }\n}\n\nexport let ClubsComponent = /*#__PURE__*/(() => {\n  class ClubsComponent {\n    constructor(authenticationService, clubService) {\n      this.authenticationService = authenticationService;\n      this.clubService = clubService;\n      this.contentName = 'Start'; //visibility of components\n\n      this.startIsVisible = false;\n      this.clubSelfEstimationIsVisible = false;\n      this.measuresIsVisible = false;\n      this.memberIsVisible = false;\n      this.questionnaireIsVisible = false;\n    }\n    /**\n    * initialize current authenticated user and the users clubs\n    */\n\n\n    ngOnInit() {\n      this.authenticationService.getUser().subscribe(user => {\n        if (user) {\n          this.user = user;\n          this.clubService.readClubsOfUser(user).subscribe(clubs => {\n            this.userClubs = clubs;\n          }); //initial selected Club\n\n          if (this.userClubs) {\n            this.selectedClub = this.userClubs[0];\n            this.startIsVisible = true;\n          }\n\n          console.log(this.userClubs);\n        }\n      });\n    }\n    /**\n    * Changes content, when user selects a component in clubs-navigation-panel\n    */\n\n\n    changeContent(contentType, club) {\n      if (club) {\n        this.selectedClub = club;\n      }\n\n      this.startIsVisible = 'start' == contentType;\n      this.clubSelfEstimationIsVisible = 'clubSelfEstimation' == contentType;\n      this.measuresIsVisible = 'measures' == contentType;\n      this.memberIsVisible = 'member' == contentType;\n      this.questionnaireIsVisible = 'questionnaire' == contentType;\n      this.changeContentName();\n    }\n    /**\n    * Changes content name shown as addition to the club name\n    */\n\n\n    changeContentName() {\n      if (this.startIsVisible) {\n        this.contentName = 'Start';\n      } else if (this.clubSelfEstimationIsVisible) {\n        this.contentName = 'Selbsteinschätzung';\n      } else if (this.clubSelfEstimationIsVisible) {\n        this.contentName = 'Selbsteinschätzung';\n      } else if (this.measuresIsVisible) {\n        this.contentName = 'Maßnahmen';\n      } else if (this.memberIsVisible) {\n        this.contentName = 'Mitglieder';\n      } else if (this.questionnaireIsVisible) {\n        this.contentName = 'Fragebogen';\n      }\n    }\n    /**\n    * Checks if the current User is moderator of this club\n    * @return if the current User is moderator\n    */\n\n\n    checkAuthorization(club) {\n      return club.moderator.email == this.user.email;\n    }\n\n  }\n\n  ClubsComponent.ɵfac = function ClubsComponent_Factory(t) {\n    return new (t || ClubsComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.ClubService));\n  };\n\n  ClubsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClubsComponent,\n    selectors: [[\"app-clubs\"]],\n    decls: 21,\n    vars: 8,\n    consts: [[1, \"clubs-content\"], [1, \"grid-part\"], [1, \"gird_item_clubs_navigation\"], [1, \"card_box\"], [1, \"navigation_card_content\"], [4, \"ngFor\", \"ngForOf\"], [1, \"navigation-bottom\"], [\"mat-button\", \"\"], [1, \"grid_item_club_name\"], [1, \"grid_item_content\"], [\"class\", \"clubs_sub_content\", 4, \"ngIf\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-button\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"clubs_sub_content\"], [3, \"club\"]],\n    template: function ClubsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"mat-card\", 3)(4, \"mat-card-content\", 4);\n        i0.ɵɵtemplate(5, ClubsComponent_div_5_Template, 16, 2, \"div\", 5);\n        i0.ɵɵelementStart(6, \"div\", 6);\n        i0.ɵɵelement(7, \"mat-divider\");\n        i0.ɵɵelementStart(8, \"button\", 7)(9, \"span\");\n        i0.ɵɵtext(10, \"Clubs hinzuf\\u00FCgen +\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(11, \"div\", 8)(12, \"mat-card\", 3)(13, \"mat-card-title\");\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(15, \"div\", 9);\n        i0.ɵɵtemplate(16, ClubsComponent_div_16_Template, 2, 1, \"div\", 10);\n        i0.ɵɵtemplate(17, ClubsComponent_div_17_Template, 2, 1, \"div\", 10);\n        i0.ɵɵtemplate(18, ClubsComponent_div_18_Template, 2, 1, \"div\", 10);\n        i0.ɵɵtemplate(19, ClubsComponent_div_19_Template, 2, 1, \"div\", 10);\n        i0.ɵɵtemplate(20, ClubsComponent_div_20_Template, 2, 1, \"div\", 10);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.userClubs);\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate2(\" \", ctx.selectedClub.name, \" - \", ctx.contentName, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.startIsVisible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.clubSelfEstimationIsVisible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.measuresIsVisible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.memberIsVisible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.questionnaireIsVisible);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.MatCard, i4.MatCardContent, i4.MatCardTitle, i5.MatDivider, i6.MatButton, i7.MatAccordion, i7.MatExpansionPanel, i7.MatExpansionPanelHeader, i7.MatExpansionPanelTitle, i8.ClubMemberComponent, i9.ClubAssessmentComponent, i10.ClubMeasureComponent, i11.ClubStartPageComponent, i12.ClubQuestionnaireComponent],\n    styles: [\".clubs-content[_ngcontent-%COMP%]{width:100%;height:calc(100% - 10px)}.grid-part[_ngcontent-%COMP%]{height:calc(100% - 10px);display:grid;grid-template-columns:20% auto;grid-template-rows:10% calc(90% - 10px);margin:10px;gap:10px;width:calc(100% - 20px)}.navigation_card_content[_ngcontent-%COMP%]{height:90%}.gird_item_clubs_navigation[_ngcontent-%COMP%]{grid-column:1;grid-row:1/span 2;height:100%}.gird_item_clubs_navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;float:bottom;width:100%;text-align:left}.grid_item_club_name[_ngcontent-%COMP%]{grid-column:2;grid-row:1}.club-name-content[_ngcontent-%COMP%]{vertical-align:middle;height:100%;border-radius:5px;background:white}.card_box[_ngcontent-%COMP%]{background:white;height:calc(100% - 32px)}.navigation-bottom[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0}.clubs_sub_content[_ngcontent-%COMP%]{height:100%}\"]\n  });\n  return ClubsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}